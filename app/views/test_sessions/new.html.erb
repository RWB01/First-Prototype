<h1>Назначение сеанса тестирования</h1>
<div>
	<div>
		Тип данного сеанса тестирования простой. Его основное назначение - тестирование группы студентов на одном алгоритме, который они только что изучили.
	</div>
	<form action="#" id="date_time_form">
		<div><b>Дата проведения тестирования:</b> <input type="date" name="test_date" id="test_date" min="<%= Date.today %>" value="<%= Date.today %>"></div>
		<div><b>Время, отведённое на тестирование(в минутах):</b> <input type="number" name="test_time" id="test_time" value="30"></div>
		<div><b>Выберите способ оценивания:</b> 
			<select name="formula" id="formula_select">
				<option value="5">5-бальная шкала</option>
				<option value="10">10-бальная шкала</option>
				<option value="100">100-бальная шкала</option>
				<option value="pass">зачёт\незачёт</option>
			</select>
		</div>
		<div><b>Выберите группу студентов:</b> 
			<select name="groups" id="group_select" >
			<% @groups.each do |group|%>
				<option value="<%= group.id %>"><%= group.title %></option>
			<% end %>
			</select>
		</div>
<!-- 		<div>Выберите дисциплину: <select name="disciplines" id="discipline_select" >
			<option disabled selected value> -- select an option -- </option>
			<% @disciplines.each do |discipline|%>
				<option value="<%= discipline.id %>"><%= discipline.title %></option>
			<% end %>
			</select>
		</div> -->
	</form>
</div>





<div class="discipline_list">
	<div>
		Выберите дисциплину:
	</div>
	<% @disciplines.each do |discipline| %>
		<div class="discipline" id="discipline_<%= discipline.id %>">
			<div class="discipline_name" id="discipline_name_<%= discipline.id %>" data-status="closed"><%= discipline.title %>	</div>
			<div class="theme_list">
				<% if discipline.themes.empty? %>
					<div class="no_elements">Данная дисциплина не содержит тем.</div>
				<% else %>
					<div>
						Список тем:
					</div>
				<% end %>
				<% discipline.themes.each do |theme| %>
					<div class="theme" id="theme_<%= theme.id %>">
						<div class="theme_name" id="theme_name_<%= theme.id %>" data-status="closed"><%= theme.title %>	</div>
						<div class="algorithm_list">
							<% if theme.algorithms.empty? %>
								<div class="no_elements">Данная тема не содержит алгоритмов.</div>
							<% else %>
								<div>
									Список алгоритмов:
								</div>
							<% end %>
							<% theme.algorithms.each do |algorithm| %>
								<div class="algorithm" id="algorithm_<%= algorithm.id %>">
									<div class="algorithm_name" id="algorithm_name_<%= algorithm.id %>" data-status="closed"><%= algorithm.title %></div>
									<div class="algorithm_menu" id="algorithm_menu_<%= algorithm.id %>">
										<%= button_to 'Выбрать алгоритм', test_sessions_add_one_algorithm_path, :params => {:algorithm => algorithm.id}, :method => :post, remote: true, :class => "select_algorithm_button" %>	
									</div>
								</div>
							<% end %>
						</div>
					</div>
				<% end %>
			</div>
		</div>
	<% end %>
</div>




<div class="selected_algorithm" id="algorithm_placeholder">

</div>


<div>
	<button id="submit_test_session">Сохранить сеанс тестирования</button>
	<button id="back"><%= link_to 'Back', test_sessions_path %></button>
</div>